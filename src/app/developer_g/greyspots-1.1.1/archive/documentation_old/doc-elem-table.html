<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, minimal-ui" />
        
        <title>Table Documentation</title>
        
        <script src="/js/greyspots.js" type="text/javascript"></script>
        <link href="/css/greyspots.css" type="text/css" rel="stylesheet" />
        
        <script src="/js/ace/ace.js" data-ace-base="/js/ace/" type="text/javascript" charset="utf-8"></script>
        <script src="/js/ace/ext-language_tools.js" type="text/javascript"></script>
        <script src="/js/ace/ext-searchbox.js" type="text/javascript"></script>
        
        <script src="doc-library/doc.js" type="text/javascript"></script>
        <link href="doc-library/doc.css" type="text/css" rel="stylesheet" />
    </head>
    <body>
        <gs-jumbo>
            <h1 class="text-center">Table</h1>
        </gs-jumbo>
        
        <gs-container min-width="sml;med;lrg">
            <h3 class="doc-header">Tag:</h3>
            <pre><code>&lt;gs-table&gt;&lt;/gs-table&gt;</code></pre>
            
            <h3 class="doc-header">Description:</h3>
            <p>This element is used for having datasheeting editing on large tables.</p>
            
            
            <br /><br />
            <b>Here is the basic anatomy of a data-connected gs-table element:</b>
<pre>&lt;gs-table id="<b>TABLEID</b>" src="<b>TABLESRC</b>"&gt;
    &lt;template for="top-hud"&gt;
        <b>OPTIONAL</b>
        <b>FREE HTML</b>
    &lt;/template&gt;
    &lt;template for="bottom-hud"&gt;
        <b>OPTIONAL</b>
        <b>FREE HTML</b>
    &lt;/template&gt;
    &lt;template for="header-record"&gt;
        <b>OPTIONAL, CSS widths set on these cells using the style attribute will be used as the width of the column.</b>
        &lt;gs-cell&gt;<b>COLUMN NAME FOR USER</b>&lt;/gs-cell&gt;
    &lt;/template&gt;
    &lt;template for="data-record"&gt;
        <b>REQUIRED</b>
        &lt;gs-cell&gt;<b>YOUR CONTROL ELEMENT OR OTHER DOTJS TEMPLATING</b>&lt;/gs-cell&gt;
    &lt;/template&gt;
    &lt;template for="copy"&gt;
        <b>REQUIRED</b>
        &lt;gs-cell header="<b>PLAINTEXT NAME</b>"&gt;<b>DOTJS TEMPLATE THAT RESULTS IN TEXT</b>&lt;/gs-cell&gt;
    &lt;/template&gt;
    &lt;template for="insert-record"&gt;
        <b>OPTIONAL, CELL ELEMENTS</b>
        &lt;gs-cell&gt;<b>INSERT CONTROL OR NOTHING</b>&lt;/gs-cell&gt;
    &lt;/template&gt;
    &lt;template for="insert-dialog"&gt;
        <b>OPTIONAL</b>
        <b>CONTROL ELEMENTS</b>
    &lt;/template&gt;
    &lt;template for="update-dialog"&gt;
        <b>OPTIONAL</b>
        <b>CONTROL ELEMENTS</b>
    &lt;/template&gt;
&lt;/gs-table&gt;</pre>
            <br /><br />
            <b>Top HUD (these are example toolbar buttons you can use):</b>
<pre>&lt;gs-button onclick="document.getElementById('TABLEID').deleteSelected()" inline no-focus icononly icon="times">&nbsp;&lt;/gs-button&gt;
&lt;gs-button onclick="document.getElementById('TABLEID').openInsertDialog()" inline no-focus icononly icon="plus">&nbsp;&lt;/gs-button&gt;
&lt;gs-button onclick="document.getElementById('TABLEID').refresh()" inline no-focus icononly icon="refresh">&nbsp;&lt;/gs-button&gt;
&lt;gs-button onclick="document.getElementById('TABLEID').openPrefs(this)" inline no-focus icononly icon="sliders">&nbsp;&lt;/gs-button&gt;
&lt;gs-button onclick="document.getElementById('TABLEID').toFullscreen(this)" inline no-focus icononly icon="expand">&nbsp;&lt;/gs-button&gt;


&lt;gs-button onclick="document.getElementById('TABLEID').sort('asc')" inline no-focus iconleft icon="sort-alpha-asc">Sort A to Z&lt;/gs-button&gt;
&lt;gs-button onclick="document.getElementById('TABLEID').sort('desc')" inline no-focus iconleft icon="sort-alpha-desc">Sort Z to A&lt;/gs-button&gt;
&lt;gs-button onclick="document.getElementById('TABLEID').sort('clear')" inline no-focus iconleft icon="trash">Clear Sort&lt;/gs-button&gt;
&lt;gs-button onclick="document.getElementById('TABLEID').clearFilter()" inline no-focus iconleft icon="trash">Clear Filter&lt;/gs-button&gt;</pre>
            <br /><br />
            <b>Bottom HUD (these are example toolbar buttons you can use):</b>
<pre>&lt;gs-button inline no-focus icononly onclick="document.getElementById('TABLEID').goToLine('first')" icon="step-backward"&gt;&nbsp;&lt;/gs-button&gt;
&lt;gs-button inline no-focus icononly onclick="document.getElementById('TABLEID').goToLine('previous')" icon="caret-left"&gt;&nbsp;&lt;/gs-button&gt;
&lt;gs-current-record inline for="TABLEID"&gt;&lt;/gs-current-record&gt;
&lt;gs-button inline no-focus icononly onclick="document.getElementById('TABLEID').goToLine('next')" icon="caret-right"&gt;&nbsp;&lt;/gs-button&gt;
&lt;gs-button inline no-focus icononly onclick="document.getElementById('TABLEID').goToLine('last')" icon="step-forward"&gt;&nbsp;&lt;/gs-button&gt;
&lt;gs-button inline no-focus icononly onclick="document.getElementById('TABLEID').goToLine('insert')" icon="plus"&gt;&lt;/gs-button&gt;</pre>
            <br /><br />
            <b>Attributes:</b>
            <table style="border-left: 1px solid #CCC;">
                <thead>
                    <tr>
                        <th>Attribute Name</th>
                        <th>Required</th>
                        <th>Explanation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id="A"</td>
                        <td>YES</td>
                        <td>Used to differentiate the table from all other tables.</td>
                    </tr>
                    <tr>
                        <td>src="A"</td>
                        <td>YES, if no "columns" attr</td>
                        <td>Defines what POSTGRES view or table to connect to.</td>
                    </tr>
                    <tr>
                        <td>columns="A,A,A"</td>
                        <td>YES, if no "src" attr</td>
                        <td>If there is a "src", this attribute limits what columns are retrieved.<br />If there is no "src", this defines the column structure for the local table.</td>
                    </tr>
                    <tr>
                        <td>session-filter="A"</td>
                        <td>NO</td>
                        <td>This is a where clause that is overridable by the user.</td>
                    </tr>
                    <tr>
                        <td>seq="A"</td>
                        <td>NO</td>
                        <td>Defines the sequence to pull from for insert calls.</td>
                    </tr>
                    <tr>
                        <td>no-record-selector</td>
                        <td>NO</td>
                        <td>Removes record selector.</td>
                    </tr>
                    <tr>
                        <td>no-insert-scroll</td>
                        <td>NO</td>
                        <td>Prevents automatically scrolling to a newly inserted line.</td>
                    </tr>
                    <tr>
                        <td>default-record-height="A"</td>
                        <td>NO</td>
                        <td>Set's initial record height. Pixel size only.</td>
                    </tr>
                    <tr>
                        <td>default-column-width="A"</td>
                        <td>NO</td>
                        <td>Set's default column width. Pixel size only.</td>
                    </tr>
                    <tr>
                        <td>copy-quote-char="A"</td>
                        <td>NO</td>
                        <td>Defines what character is used for quoting in the the CSV copy mode.</td>
                    </tr>
                    <tr>
                        <td>copy-escape-char="A"</td>
                        <td>NO</td>
                        <td>Defines what character is used for escaping control characters in the the CSV copy mode.</td>
                    </tr>
                    <tr>
                        <td>copy-null-cell="A"</td>
                        <td>NO</td>
                        <td>Defines what string is used for representing null in the the CSV copy mode.</td>
                    </tr>
                    <tr>
                        <td>copy-quote-when="never|strings|always|delimiter-in-content"</td>
                        <td>NO</td>
                        <td>Defines when a cell is quoted.</td>
                    </tr>
                    <tr>
                        <td>copy-header="never|always|selected"</td>
                        <td>NO</td>
                        <td>Defines when copying a header is allowed.</td>
                    </tr>
                    <tr>
                        <td>copy-selectors="never|always|selected"</td>
                        <td>NO</td>
                        <td>Defines when copying a selector is allowed.</td>
                    </tr>
                    <tr>
                        <td>copy-delimiter-record="{{DOS_RETURN}},{{MAC_RETURN}},A"</td>
                        <td>NO</td>
                        <td>Defines record delimiter in CSV copy mode. Special values are {{DOS_RETURN}} (\r\n) and {{MAC_RETURN}} (\n).</td>
                    </tr>
                    <tr>
                        <td>copy-delimiter-cell="{{DOS_RETURN}},{{MAC_RETURN}},A"</td>
                        <td>NO</td>
                        <td>Defines column delimiter in CSV copy mode. Special values are {{DOS_RETURN}} (\r\n) and {{MAC_RETURN}} (\n).</td>
                    </tr>
                    <tr>
                        <td>copy-types="text,html"</td>
                        <td>NO</td>
                        <td>Defines what copy modes are used. One or both may be used at the same time.</td>
                    </tr>
                    <tr>
                        <td>qs="A"</td>
                        <td>NO</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>pk="A"</td>
                        <td>NO</td>
                        <td>Defines which column is used as a primary key.</td>
                    </tr>
                    <tr>
                        <td>lock="A"</td>
                        <td>NO</td>
                        <td>Defines which column or columns (comma separated) are used to determine if someone else updated the record before we do whatever operation we want to it.</td>
                    </tr>
                    <tr>
                        <td>ord="A"</td>
                        <td>NO</td>
                        <td>Defines a Postgres ORDER BY.</td>
                    </tr>
                    <tr>
                        <td>where="A"</td>
                        <td>NO</td>
                        <td>Defines a Postgres WHERE.</td>
                    </tr>
                    <tr>
                        <td>limit="A"</td>
                        <td>NO</td>
                        <td>Defines a Postgres LIMIT.</td>
                    </tr>
                    <tr>
                        <td>offset="A"</td>
                        <td>NO</td>
                        <td>Defines a Postgres OFFSET.</td>
                    </tr>
                    <tr>
                        <td>focus-on-load</td>
                        <td>NO</td>
                        <td>If this attribute is present, the table will attempt to gain the focus on page load.</td>
                    </tr>
                    <tr>
                        <td>column="A"</td>
                        <td>NO</td>
                        <td>Used for parent-child relationships. This is the parent column.</td>
                    </tr>
                    <tr>
                        <td>child-column="A"</td>
                        <td>NO</td>
                        <td>Used for parent-child relationships. This is the child column.</td>
                    </tr>
                    <tr>
                        <td>null-string="A"</td>
                        <td>NO</td>
                        <td>Defines what string is used to show null to the user.</td>
                    </tr>
                    <tr>
                        <td>null-set-string="A"</td>
                        <td>NO</td>
                        <td>Defines what string is given by the user to set a cell to null.</td>
                    </tr>
                </tbody>
            </table>
            <br /><br />
            <b>Pitfalls to watch out for:</b>
            <ul>
                <li>Slow control elements</li>
                <li>Scrollbars within cells are slow</li>
            </ul>
            
            
            <!--
            
            <h1 class="doc-header">Examples:</h1>
            
            <div class="doc-example-description">
                <span class="h3">Skeleton Example:</span>
                <p>This is an example of a basic, stand-alone <code>gs-datasheet</code>.</p>
                <p>Note that the default behavior is for the user to have access to UPDATE and DELETE functionality. If your SRC is a view or function you'll need RULEs or TRIGGERS for UPDATE and DELETE or your users will get errors when they attempt to UPDATE or DELETE records.</p>
                <p>Other default behaviors include the refresh button. Row numbers are provided by datasheet when your template includes <code>{{! row_number }}</code>.</p>
                <p>The copy functionality allows you to select contiguous cells by clicking and dragging (or by selecting a cell, holding down shift and selecting another cell). You can select individual cells by holding down Command. You can drag across columns to select just a section of a table.</p>
                <p>The "<code>pk</code>" attribute defines the PRIMARY KEY column of the object.</p>
            </div>
            <gs-doc-example>
                <template for="html" height="30">
                    <gs-datasheet src="gsdoc.texample" pk="id">
                        <template for="table">
                            <table>
                                <tbody>
                                    <tr>
                                        <th heading="#">{{! row_number }}</th>
                                        <td heading="First Name">
                                            <gs-text mini column="first_name"></gs-text>
                                        </td>
                                        <td heading="Last Name">
                                            <gs-text mini column="last_name"></gs-text>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </template>
                    </gs-datasheet>          
                </template>
            </gs-doc-example>
            -->
        </gs-container>
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
    </body>
</html>